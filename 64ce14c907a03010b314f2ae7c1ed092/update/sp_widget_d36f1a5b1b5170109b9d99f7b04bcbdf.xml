<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller = function ($scope, $rootScope, $timeout) {
  /* widget controller */
  var c = this;

  $scope.showWidget = "";
  //Listening for "showHideWidget" event
  $rootScope.$on('showHideWidget', function (event, data) {
    $timeout(function () {
      $scope.showWidget = data;
    });

  });
};]]></client_script>
        <controller_as>c</controller_as>
        <css>.each-incident {&#13;
    display: flex;&#13;
    justify-content: space-between;&#13;
    align-items: center;&#13;
    padding: 10px;&#13;
    border-top: 1px solid #ddd;&#13;
    clear: both;&#13;
}&#13;
&#13;
.center-div {&#13;
    float: none;&#13;
    margin-left: auto;&#13;
    margin-right: auto;&#13;
}</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>requests</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {
  
}]]></link>
        <name>All Request Widget</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function () {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */
  data.requestList = [];

  var gr = new GlideRecord('change_request');

  gr.addQuery('category', 'Hardware');
  gr.query();

  while (gr.next()) {
    var temp = {};
    temp.number = gr.number.toString();
    temp.short_desc = gr.short_description.toString();
    data.requestList.push(temp);
  }
})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-07-17 16:47:53</sys_created_on>
        <sys_id>d36f1a5b1b5170109b9d99f7b04bcbdf</sys_id>
        <sys_mod_count>4</sys_mod_count>
        <sys_name>All Request Widget</sys_name>
        <sys_package display_value="Innovate" source="x_647573_innovate">64ce14c907a03010b314f2ae7c1ed092</sys_package>
        <sys_policy/>
        <sys_scope display_value="Innovate">64ce14c907a03010b314f2ae7c1ed092</sys_scope>
        <sys_update_name>sp_widget_d36f1a5b1b5170109b9d99f7b04bcbdf</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-07-17 17:27:39</sys_updated_on>
        <template><![CDATA[<div ng-if="showWidget == 'requests'">
    <div class="container">
        <!-- your widget template -->
        <div class="col-md-10 center-div">
            <h3 style="display:inline-block;float:left;">Requests</h3>
            <div ng-repeat="incident in data.requestList | limitTo:5" class="each-incident">
                <h4>{{incident.number}}</h4>
                <p style="margin-bottom:0px;">{{incident.short_desc}}</p>
            </div>
        </div>
    </div>]]></template>
    </sp_widget>
</record_update>
